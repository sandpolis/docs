<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Instance - Sandpolis Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Instance";
    var mkdocs_page_input_path = "specification/instance.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="icon icon-home"> Sandpolis Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Tutorials</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../tutorials/getting_started.html">Getting Started</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../tutorials/client/gui.html">Using the desktop client</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../tutorials/client/terminal.html">Using the terminal client</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Specification</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="instance.html">Instance</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#data-model">Data Model</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#the-st-layer">The ST Layer</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#attributes">Attributes</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#documents">Documents</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#entanglement">Entanglement</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#snapshots-and-merging">Snapshots and Merging</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#the-vst-layer">The VST Layer</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#the-oid-layer">The OID Layer</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="agent.html">Agent</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="server.html">Server</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="clientserver.html">Client/Server</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="serveragent.html">Server/Agent</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Plugins</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="plugins/device.html">Device Plugin</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="plugins/filesystem.html">Filesystem Plugin</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="plugins/snapshot.html">Snapshot Plugin</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Implementation Reference</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../application/client.html">Client</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../application/server.html">Server</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../application/agent.html">Agent</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../application/network.html">Networking</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Sandpolis Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
      
        
          <li>Specification &raquo;</li>
        
      
    
    <li>Instance</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="instance">Instance</h1>
<p>The following sections apply to all Sandpolis instances.</p>
<h2 id="data-model">Data Model</h2>
<p>There are three layers in the Sandpolis data model. Of which, client implementations
are required to support at least two (ST and OID layers).</p>
<h3 id="the-st-layer">The ST Layer</h3>
<p>The State Tree layer is the lowest layer and is concerned with storage and persistence.
Every instance maintains a global tree called the "ST Tree". The tree is seldomly
manipulated directly. Instead, higher layers make changes to the ST Tree on behalf
of consumers.</p>
<p>The ST tree is composed of two components: <code>Attribute</code>s and <code>Document</code>s.</p>
<h4 id="attributes">Attributes</h4>
<p>Attributes contain data of a specific type and meaning. All data in the ST tree is
stored in attributes.</p>
<h5 id="retention">Retention</h5>
<p>The history of an attribute can optionally be recorded with <em>tracked attributes</em>.</p>
<h5 id="attributechangedevent">AttributeChangedEvent</h5>
<h4 id="documents">Documents</h4>
<p>Documents are a set of attributes and sub-documents.</p>
<h5 id="documentaddedevent">DocumentAddedEvent</h5>
<p>Indicates that a document has been added to the tree. No futher events will be
fired for all children of the added document as a direct result of the addition.</p>
<h5 id="documentremovedevent">DocumentRemovedEvent</h5>
<p>Indicates that a document has been removed from the tree.</p>
<h4 id="entanglement">Entanglement</h4>
<p>A concept that exists at the ST layer is <strong>entanglement</strong>: ST trees that reside
on remote instances can synchronize their state. The relation can be bidirectional
or unidirectional and last as long as necessary. All changes to the source of an
entanglement pair will be propagated to the destination in real-time.</p>
<h4 id="snapshots-and-merging">Snapshots and Merging</h4>
<h3 id="the-vst-layer">The VST Layer</h3>
<h3 id="the-oid-layer">The OID Layer</h3>
<p>Every node in a ST Tree is uniquely identified by an OID. OIDs are sequences of <code>/</code>
separated strings that describe how to reach the corresponding node from the root
node. OIDs also have a string namespace identifier that identifies the plugin or
module to which the OID belongs.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="agent.html" class="btn btn-neutral float-right" title="Agent">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../tutorials/client/terminal.html" class="btn btn-neutral" title="Using the terminal client"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../tutorials/client/terminal.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="agent.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
